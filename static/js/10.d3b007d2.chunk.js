(this["webpackJsonpbudget-tracker"]=this["webpackJsonpbudget-tracker"]||[]).push([[10],{140:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e,t,n){Object(r.useEffect)((function(){return n.onTitleChange(e),n.onActions(t),function(){n.onTitleChange(""),n.onActions(void 0)}}),[])}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(36),a=n(0),o=n(41),c=n(195),i=n(94);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t={component:e.to?o.b:void 0};return e.onClick&&e.to&&console.warn("Button should not have both onClick and href properties"),t}var d=function(e){return a.createElement(i.a,Object.assign({color:"inherit"},e,s(e)),e.icon&&a.createElement(e.icon,null))};var f=function(e){return a.createElement(c.a,Object.assign({style:l({position:"fixed",bottom:"1rem",zIndex:10},(t=e.color,"primary"===t||void 0===t?{right:"1rem"}:{left:"1rem"})),color:e.color||"secondary"},e,s(e)),e.children);var t}},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),a=n(18),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;Object(r.a)(this,e),this._date=void 0,this._date=new Date(t.getFullYear(),t.getMonth(),t.getDate())}return Object(a.a)(e,[{key:"clone",value:function(){return new e(this._date)}},{key:"addDays",value:function(e){return this._date.setDate(this._date.getDate()+e),this}},{key:"addMonths",value:function(e){return this._date.setMonth(this._date.getMonth()+e),this}},{key:"addYears",value:function(e){return this._date.setFullYear(this._date.getFullYear()+e),this}},{key:"equals",value:function(e){return this._date.getTime()===e._date.getTime()}},{key:"year",get:function(){return this._date.getFullYear()}},{key:"month",get:function(){return this._date.getMonth()}},{key:"day",get:function(){return this._date.getDate()}},{key:"timeMs",get:function(){return this._date.getTime()}},{key:"isToday",get:function(){return e.isToday(this)}},{key:"shortString",get:function(){return new Intl.DateTimeFormat(void 0,{day:"numeric",month:"long",year:"numeric"}).format(this._date)}}],[{key:"fromTimeMs",value:function(t){return new e(new Date(t))}},{key:"fromYMD",value:function(t){return new e(new Date(t.year,t.month,t.day))}},{key:"isToday",value:function(e){var t=new Date;return e.day===t.getDate()&&e.month===t.getMonth()&&e.year===t.getFullYear()}}]),e}()},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),a=n.n(r),o=n(4),c=n(16),i=n(0),u=n(40);function l(){var e=Object(i.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],l=Object(u.b)();return Object(i.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,l.getBudgetsStore();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=!0;return t&&function(){e.apply(this,arguments)}(),function(){t=!1}}),[n,l]),Object(i.useEffect)((function(){var e=!0,t={onStorageDataChanged:function(){r(void 0)}};return e&&l.storage.addObserver(t),function(){e=!1,l.storage.deleteObserver(t)}}),[l]),n}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i}));var r=864e5;function a(e,t){return Math.floor((t-e)/r)+1}function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toISOString().slice(0,10)}function c(e){return new Intl.DateTimeFormat(void 0,{month:"long"}).format(new Date(2e3,e,1))}function i(e,t){return new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric"}).format(new Date(e,t,1))}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),a=n.n(r),o=n(4),c=n(16),i=n(0),u=n(146);function l(e){var t=Object(u.a)(),n=Object(i.useState)(),r=Object(c.a)(n,2),l=r[0],s=r[1];return Object(i.useEffect)((function(){function n(){return(n=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,n.getBudgetModel(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(e){var r=!0;return r&&(t?function(e){n.apply(this,arguments)}(t):s(void 0)),function(){r=!1}}}),[e,t]),l}},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(188),o=n.n(a),c=n(142),i=function(e){return r.createElement(c.a,Object.assign({icon:o.a,"aria-label":"Delete"},e))}},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n.n(r),o=n(198),c=n(325),i=n(257),u=n(255),l=n(256),s=n(254),d=n(51),f=function(e){var t=function(){return e.onClose(!1)},n=Object(d.a)();return a.a.createElement(c.a,{open:e.open,onClose:t,"aria-labelledby":"y-n-dialog-title","aria-describedby":"y-n-dialog-description"},a.a.createElement(s.a,{id:"y-n-dialog-title"},e.question),e.description&&a.a.createElement(u.a,null,a.a.createElement(l.a,{id:"y-n-dialog-description"},e.description)),a.a.createElement(i.a,null,a.a.createElement(o.a,{onClick:t,color:"primary"},n("Disagree")),a.a.createElement(o.a,{onClick:function(){return e.onClose(!0)},color:"primary",autoFocus:!0},n("Agree"))))}},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(157),o=n.n(a),c=n(142),i=function(e){return r.createElement(c.b,Object.assign({"aria-label":"Add"},e,{color:"primary"}),r.createElement(o.a,null))}},170:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n(216),o=n(197),c=n(133);function i(e,t){return t?e/t*100:0}var u=function(e){return r.createElement(c.a,{variant:"body2",noWrap:!0},e.text,e.secondary&&r.createElement(c.a,{variant:"caption",color:"textSecondary"},e.secondary))},l=function(e){var t=e.spent,n=e.total,c=e.title,l=t>n;return r.createElement(r.Fragment,null,r.createElement(o.a,{container:!0,justify:"space-between",direction:"row"},r.createElement(u,{text:Math.round(t)}),r.createElement(u,{text:c,secondary:" (".concat(Math.round(n),")")}),r.createElement(u,{text:Math.round(n-t)})),r.createElement(a.a,{color:l?"secondary":"primary",variant:"determinate",value:l?100:i(t,n)}))}},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={};function a(e,t){return function(e){return e in r||(r[e]=new Intl.NumberFormat(void 0,{style:"currency",currency:e})),r[e]}(t).format(e)}},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n(133),o=n(197),c=function(e){return r.createElement(o.a,{container:!0,justify:"space-between"},r.createElement(a.a,{variant:e.variant,color:"textPrimary"},e.leftText),r.createElement(a.a,{variant:e.variant,color:"textPrimary"},e.rightText))}},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=n(41),c=n(179),i=function(e){return a.a.createElement(c.a,{component:o.b,to:e.to},e.children)}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),a=n(41),o=n(170),c=n(178),i=n(171),u=n(172),l=n(198),s=n(136),d=n(51),f=function(e){var t=Object(d.a)();return r.createElement(i.a,{style:{marginBottom:"1rem"}},r.createElement(u.a,null,r.createElement(o.a,{total:e.totalBudget,spent:e.totalSpent,title:t("Spent")}),r.createElement(s.a,{marginTop:"0.5rem"},r.createElement(o.a,{total:e.totalDays,spent:e.passedDays,title:t("Days")})),void 0!==e.dailyAverage&&r.createElement(s.a,{marginTop:"0.5rem"},r.createElement(o.a,{total:e.expectedDailyAverage,spent:e.dailyAverage,title:t("Daily Average")}))),e.urlStats&&r.createElement(c.a,null,r.createElement(l.a,{size:"small",component:a.b,color:"primary",to:e.urlStats},t("More Stats"))))}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(189),o=n.n(a),c=n(142),i=function(e){return r.createElement(c.a,Object.assign({icon:o.a,"aria-label":"Import"},e))}},320:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(4),c=n(16),i=n(0),u=n(142),l=n(134),s=n(133),d=n(196),f=n(162),m=n(148),y=n(185),p=n(150),g=n(172),v=n(187),b=n(171),h=n(198),E=n(136),x=n(143),O=function(e){var t=x.a.isToday(e.date);var n=i.useRef(null);return i.useEffect((function(){n&&n.current&&t&&n.current.focus()})),i.createElement(h.a,{variant:t?"outlined":"text",onClick:function(){e.onDaySelected(e.date)},ref:t?n:null},i.createElement(E.a,{p:1},i.createElement(s.a,{color:"textPrimary"},e.date.day),i.createElement(s.a,{variant:"caption",color:e.total>e.expected?"error":"textSecondary"},e.total.toFixed())))},D=n(29),j=n(186),w=function(e){var t=e.year,n=e.month,r=e.budgetModel,a=e.days,o=i.useMemo((function(){var e=r.getTotalExpenses(t,n);return Math.round(e).toLocaleString()}),[r,t,n]),c=i.useMemo((function(){var e=Object(p.c)(n);if(r){var a=new D.a(r.identifier).pathExpensesByDay(t,n);return i.createElement(j.a,{to:a},e)}return p.c}),[r,n,t]),u=i.useMemo((function(){return Object(m.a)(a).reverse().map((function(a){return i.createElement(O,{onDaySelected:e.onDaySelected,expected:r.expectedDailyExpensesAverage,total:r.getTotalExpenses(t,n,a),budgetId:r.identifier,date:{year:t,month:n,day:a},key:"calendar-day-".concat(t,"-").concat(n,"-").concat(a)})}))}),[a,r,t,n]);return i.createElement(b.a,{key:"expenses-month-".concat(t,"-").concat(n),style:{marginBottom:"1rem"}},i.createElement(v.a,{title:i.createElement(y.a,{leftText:c,rightText:o,variant:"h6"})}),i.createElement(g.a,null,u))},k=n(173),S=function(e){var t=e.budgetModel,n=e.year,r=t.expenseGroups,a=t.currency,o=t.identifier,c=new D.a(o);return i.createElement(i.Fragment,null,Object(m.a)(r.getMonths(n)).reverse().map((function(a){return i.createElement(w,{days:r.getDays(n,a),key:"calendar-month-".concat(n,"-").concat(a),budgetModel:t,onDaySelected:e.onDaySelected,year:n,month:a})})),i.createElement(y.a,{variant:"h5",leftText:i.createElement(j.a,{to:c.pathExpensesByDay(n)},n),rightText:Object(k.a)(t.getTotalExpenses(n),a)}))},M=function(e){var t=e.budgetModel;return i.createElement(i.Fragment,null,Object(m.a)(t.expenseGroups.years).reverse().map((function(n){return i.createElement(S,{budgetModel:t,key:"calendar-year-".concat(n),year:n,onDaySelected:e.onDaySelected})})))},T=n(228),F=n.n(T),_=n(156),B=n(163),C=n(151),A=n(199),P=n(40),I=n(51),Y=n(140);n.d(t,"BudgetView",(function(){return q}));var q=function(e){var t=e.match.params.budgetId,n=e.onTitleChange,r=new D.a(t),m=i.useState(!1),y=Object(c.a)(m,2),p=y[0],g=y[1],v=Object(C.a)(t),b=Object(P.b)(),h=Object(I.a)();function E(){return(E=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=11;break}if(g(!1),!n){t.next=9;break}return t.next=5,b.getBudgetsStore();case 5:return r=t.sent,t.next=8,r.deleteBudget(v.identifier);case 8:e.history.replace(D.a.base);case 9:t.next=12;break;case 11:throw new Error("Budget is undefined");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return i.useEffect((function(){v&&n(v.name)}),[v]),Object(Y.a)("...",[i.createElement(u.a,{key:"cb-edit-budget",icon:F.a,"aria-label":h("Edit budget"),to:r.pathEdit}),i.createElement(A.a,{key:"cb-export-budget",to:r.pathExport}),i.createElement(_.a,{onClick:function(){g(!0)},key:"cb-delete-budget"})],e),v?i.createElement(i.Fragment,null,i.createElement(i.Fragment,null,i.createElement(d.a,{dailyAverage:v.average,expectedDailyAverage:v.expectedDailyExpensesAverage,passedDays:v.daysUntilToday,totalDays:v.totalDays,totalBudget:v.info.total,totalSpent:v.totalExpenses,urlStats:r.pathStats}),v.expenseGroups&&i.createElement(M,{budgetModel:v,onDaySelected:function(t){var n=t.year,a=t.month,o=t.day;e.history.push(r.pathExpensesByDay(n,a,o))}})),0===v.numberOfExpenses&&i.createElement(s.a,{variant:"h5",color:"textSecondary"},h("No expenses")),i.createElement(B.a,{to:r.pathAddExpense}),i.createElement(f.a,{open:p,onClose:function(e){return E.apply(this,arguments)},question:h("Delete budget?"),description:h("Expenses will be deleted")})):i.createElement(l.a,null)};t.default=q}}]);
//# sourceMappingURL=10.d3b007d2.chunk.js.map