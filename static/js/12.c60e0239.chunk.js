(this["webpackJsonpbudget-tracker"]=this["webpackJsonpbudget-tracker"]||[]).push([[12],{140:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e,t,n){Object(r.useEffect)((function(){return n.onTitleChange(e),n.onActions(t),function(){n.onTitleChange(""),n.onActions(void 0)}}),[])}},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";e.length>2?e.goBack():e.replace(t)}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(36),a=n(0),u=n(41),o=n(195),c=n(94);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t={component:e.to?u.b:void 0};return e.onClick&&e.to&&console.warn("Button should not have both onClick and href properties"),t}var l=function(e){return a.createElement(c.a,Object.assign({color:"inherit"},e,f(e)),e.icon&&a.createElement(e.icon,null))};var d=function(e){return a.createElement(o.a,Object.assign({style:s({position:"fixed",bottom:"1rem",zIndex:10},(t=e.color,"primary"===t||void 0===t?{right:"1rem"}:{left:"1rem"})),color:e.color||"secondary"},e,f(e)),e.children);var t}},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),a=n(18),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;Object(r.a)(this,e),this._date=void 0,this._date=new Date(t.getFullYear(),t.getMonth(),t.getDate())}return Object(a.a)(e,[{key:"clone",value:function(){return new e(this._date)}},{key:"addDays",value:function(e){return this._date.setDate(this._date.getDate()+e),this}},{key:"addMonths",value:function(e){return this._date.setMonth(this._date.getMonth()+e),this}},{key:"addYears",value:function(e){return this._date.setFullYear(this._date.getFullYear()+e),this}},{key:"equals",value:function(e){return this._date.getTime()===e._date.getTime()}},{key:"year",get:function(){return this._date.getFullYear()}},{key:"month",get:function(){return this._date.getMonth()}},{key:"day",get:function(){return this._date.getDate()}},{key:"timeMs",get:function(){return this._date.getTime()}},{key:"isToday",get:function(){return e.isToday(this)}},{key:"shortString",get:function(){return new Intl.DateTimeFormat(void 0,{day:"numeric",month:"long",year:"numeric"}).format(this._date)}}],[{key:"fromTimeMs",value:function(t){return new e(new Date(t))}},{key:"fromYMD",value:function(t){return new e(new Date(t.year,t.month,t.day))}},{key:"isToday",value:function(e){var t=new Date;return e.day===t.getDate()&&e.month===t.getMonth()&&e.year===t.getFullYear()}}]),e}()},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(0),a=n(52),u=n.n(a),o=n(141),c=n(94),i=function(e){return r.createElement(c.a,Object.assign({color:"inherit","aria-label":"Close"},e,{onClick:e.onClick}),r.createElement(u.a,null))},s=function(e){return r.createElement(i,{onClick:function(){Object(o.a)(e.history,e.to)}})}},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n.n(r),u=n(4),o=n(16),c=n(0),i=n(40);function s(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(i.b)();return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,s.getBudgetsStore();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=!0;return t&&function(){e.apply(this,arguments)}(),function(){t=!1}}),[n,s]),Object(c.useEffect)((function(){var e=!0,t={onStorageDataChanged:function(){r(void 0)}};return e&&s.storage.addObserver(t),function(){e=!1,s.storage.deleteObserver(t)}}),[s]),n}},148:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return r}))},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(318),u=function(e){return r.createElement(a.a,Object.assign({id:"input-field-".concat(e.label),style:{margin:8},margin:"dense"},e))}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c}));var r=864e5;function a(e,t){return Math.floor((t-e)/r)+1}function u(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toISOString().slice(0,10)}function o(e){return new Intl.DateTimeFormat(void 0,{month:"long"}).format(new Date(2e3,e,1))}function c(e,t){return new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric"}).format(new Date(e,t,1))}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n.n(r),u=n(4),o=n(16),c=n(0),i=n(146);function s(e){var t=Object(i.a)(),n=Object(c.useState)(),r=Object(o.a)(n,2),s=r[0],f=r[1];return Object(c.useEffect)((function(){function n(){return(n=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f,t.next=3,n.getBudgetModel(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(e){var r=!0;return r&&(t?function(e){n.apply(this,arguments)}(t):f(void 0)),function(){r=!1}}}),[e,t]),s}},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n(174),u=n.n(a),o=n(142),c=function(e){return r.createElement(o.b,Object.assign({"aria-label":"Save"},e),r.createElement(u.a,null))}},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n.n(r),u=n(4),o=n(16),c=n(0),i=n(40);function s(){var e=Object(i.b)(),t=Object(c.useState)(),n=Object(o.a)(t,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){function t(){return(t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,e.getCurrenciesStore();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var n=!0;return n&&function(){t.apply(this,arguments)}(),function(){n=!1}}),[e]),r}},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n(149),u=function(e){return r.createElement(a.a,{autoFocus:!0,required:!0,type:"number",label:e.label,value:e.amountInput||"",inputProps:{step:".01","aria-required":!0},onChange:function(t){var n=parseFloat(t.target.value);e.onAmountChange(n)},helperText:e.helperText,disabled:e.disabled})}},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(148),a=n(0),u=n.n(a),o=n(149),c=n(183),i=n(51),s=function(e){var t=e.onCurrencyChange,n=Object(c.a)(),a=Object(i.a)(),s=u.a.useMemo((function(){function e(e,t){return u.a.createElement("option",{key:"currency-option-".concat(e),value:e},t)}var t=[];if(n){var a=n.currencies,o=n.lastCurrenciesUsed,c=new Set([].concat(Object(r.a)(o),Object(r.a)(a.keys()))),i=!0,s=!1,f=void 0;try{for(var l,d=c[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var b=l.value,p=a.get(b);p&&t.push(e(b,p))}}catch(v){s=!0,f=v}finally{try{i||null==d.return||d.return()}finally{if(s)throw f}}}else t.push(e("loading","Loading"));return t}),[n]);return u.a.createElement(o.a,{label:a("Currency"),select:!0,SelectProps:{native:!0},onChange:function(e){var n=e.target.value;t&&n&&t(n)},value:e.selectedCurrency,required:!0,disabled:e.disabled},s)}},329:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),u=n(4),o=n(16),c=n(0),i=n(36),s=n(149),f=n(150),l=n(201),d=n(202),b=n(158),p=n(51);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=c.useState(e.budget),n=Object(o.a)(t,2),r=n[0],a=n[1],u=c.useState(),i=Object(o.a)(u,2),v=i[0],h=i[1],m=c.useState(!0),y=Object(o.a)(m,2),O=y[0],j=y[1],w=e.disabled,E=Object(p.a)();function D(){h(void 0),j(!1)}function k(){if(r.from>=r.to)return E("Invalid date range")}return c.createElement("form",{onSubmit:function(t){t.preventDefault(),k()?h(k()):O||e.onSubmit(r)}},c.createElement(s.a,{label:E("Name"),value:r.name,onChange:function(e){e.preventDefault(),a(g({},r,{name:e.target.value})),D()},required:!0,disabled:w}),c.createElement(s.a,{label:E("Start"),value:Object(f.b)(new Date(r.from)),type:"date",onChange:function(e){e.preventDefault(),a(g({},r,{from:new Date(e.target.value).getTime()})),D()},error:v,required:!0,disabled:w}),c.createElement(s.a,{label:E("End"),value:Object(f.b)(new Date(r.to)),type:"date",error:v,onChange:function(e){e.preventDefault(),a(g({},r,{to:new Date(e.target.value).getTime()})),D()},disabled:w}),c.createElement(l.a,{disabled:w,onAmountChange:function(e){a(g({},r,{total:e})),D()},label:E("Total"),amountInput:r.total}),c.createElement(d.a,{disabled:w,onCurrencyChange:function(e){a(g({},r,{currency:e})),D()},selectedCurrency:r.currency}),c.createElement(b.a,{disabled:w||O,color:"primary",type:"submit"}))},m=n(29),y=n(143),O=n(58),j=n(144),w=n(151),E=n(40),D=n(140),k=n(134);t.default=function(e){var t=e.match.params.budgetId,n=c.useState(),r=Object(o.a)(n,2),i=r[0],s=r[1],f=Object(E.b)(),l=Object(w.a)(t);c.useEffect((function(){l&&s(l.info)}),[l]);var d=Object(p.a)();Object(D.a)(d(t?"Edit budget":"Add Budget"),c.createElement(j.b,{history:e.history}),e),c.useEffect((function(){!t&&s(function(){var e=new y.a;return{name:"",from:e.timeMs,to:e.addDays(30).timeMs,currency:"EUR",total:0,identifier:Object(O.a)()}}())}),[t]);var b=c.useState(!1),v=Object(o.a)(b,2),g=v[0],S=v[1];function C(){return(C=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.next=3,f.getBudgetsStore();case 3:return t.t0=n,t.next=6,t.sent.setBudget(t.t0);case 6:S(!1),e.history.replace(new m.a(n.identifier).path);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return i?c.createElement(h,{budget:i,onSubmit:function(e){return C.apply(this,arguments)},disabled:g}):c.createElement(k.a,null)}}}]);
//# sourceMappingURL=12.c60e0239.chunk.js.map